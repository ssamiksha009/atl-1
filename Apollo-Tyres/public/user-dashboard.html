<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Engineer Dashboard • Apollo Tyres</title>
  <link rel="stylesheet" href="/css/user-dashboard.css" />
</head>
<body>
  <!-- Sidebar (single source of navigation truth) -->
  <aside class="sb">
    <div class="sb-brand">
      <img src="/images/Apollo-Tyres-Logo.png" alt="Apollo" class="logo" />
      <span class="brand-text">Apollo Tyres</span>
    </div>
    <nav class="sb-nav" aria-label="Primary">
  <a class="nav-item active" href="#">
    <span class="ico" aria-hidden="true"><svg><use href="#i-home"/></svg></span>
    Dashboard
  </a>
  <a class="nav-item" href="#">
    <span class="ico" aria-hidden="true"><svg><use href="#i-projects"/></svg></span>
    My Projects
  </a>
  <a class="nav-item" href="/index.html">
    <span class="ico" aria-hidden="true"><svg><use href="#i-plus"/></svg></span>
    New Project
  </a>
  <a class="nav-item" href="/history.html">
    <span class="ico" aria-hidden="true"><svg><use href="#i-clock"/></svg></span>
    History
  </a>
  <a class="nav-item" href="/components/help.pdf" target="_blank" rel="noopener">
    <span class="ico" aria-hidden="true"><svg><use href="#i-help"/></svg></span>
    Help
  </a>
</nav>
    <div class="sb-footer">
      <button id="logoutBtn" class="btn ghost wide">Logout</button>
    </div>
  </aside>

  <!-- Main page -->
  <div class="page">
    <!-- Topbar (no nav buttons here) -->
    <header class="topbar" aria-label="Top navigation">
  <h1>Dashboard</h1>

  <div class="topbar-right">
    <div class="search">
      <!-- SVG sprite (put once in your base layout, near the end of <body>) -->
<svg width="0" height="0" style="position:absolute;left:-9999px;">
  <symbol id="i-search" viewBox="0 0 24 24">
    <path d="M15.5 14h-.79l-.28-.27a6.471 6.471 0 0 0 1.57-4.23A6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 5 1.5-1.5-5-5zm-6 0A4.5 4.5 0 1 1 14 9.5 4.505 4.505 0 0 1 9.5 14z"/>
  </symbol>
  <symbol id="i-refresh" viewBox="0 0 24 24">
    <path d="M17.65 6.35A7.95 7.95 0 0 0 12 4V1L7 6l5 5V8c2.76 0 5 2.24 5 5a5 5 0 0 1-8.66 3.54l-1.42 1.42A7 7 0 1 0 19 13c0-2.21-.9-4.21-2.35-5.65z"/>
  </symbol>
</svg>

<!-- In your .topbar right side -->
<div class="searchbar">
  <span class="search-ico" aria-hidden="true">
    <svg><use href="#i-search"></use></svg>
  </span>
  <input id="searchInput" type="search" placeholder="Search projects, runs…" />
  <!-- THEMED REFRESH BUTTON -->
  <button id="refreshBtn" class="refresh-pill" type="button">
    <span class="disc">
      <svg class="rotor" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 5V2L7 7l5 5V9a5 5 0 1 1-4.33 2.5l-1.73 1A7 7 0 1 0 12 5z"/>
      </svg>
    </span>
    <span class="label">Refresh</span>
  </button>
</div>

    </div>

    <div class="user">
      <div class="user-info">
        <strong id="userName">Engineer</strong>
        <small id="userEmail" class="muted">—</small>
      </div>

      <img id="userAvatar" src="/images/User-Avatar-Profile.png" class="avatar" alt="avatar" />

      <!-- Kebab button for profile menu -->
      <button id="profileMenuBtn" class="icon-btn" aria-haspopup="menu" aria-expanded="false" aria-label="Open profile menu">
        <svg><use href="#i-kebab"></use></svg>
      </button>

<!-- Profile dropdown (info only) -->
<div id="profileMenu" class="profile-menu" role="menu" aria-hidden="true">
  <div class="menu-header">
    <img id="menuAvatar" src="/images/User-Avatar-Profile.png" alt="" class="menu-avatar" />
    <div>
      <div id="menuName" class="menu-name">—</div>
      <div id="menuEmail" class="menu-email">—</div>
    </div>
  </div>

  <dl class="menu-details">
    <div class="row">
      <dt>Email</dt>
      <dd id="detailEmail">—</dd>
    </div>
    <div class="row">
      <dt>Role</dt>
      <dd id="detailRole">Engineer</dd>
    </div>
    <div class="row">
      <dt>Member since</dt>
      <dd id="detailMemberSince">—</dd> <!-- show only the date here -->
    </div>
    <div class="row">
      <dt>Last login</dt>
      <dd id="detailLastLogin">—</dd>
    </div>
  </dl>

  <div class="menu-actions">
    <button id="logoutBtnMenu" type="button" role="menuitem" class="danger">Logout</button>
  </div>
</div>


    </div>
  </div>
</header>


    <main class="content">
      <!-- Welcome (no buttons to avoid nav duplication) -->
      <section class="welcome card subtle-gradient">
        <div class="welcome-left">
          <h2 id="welcomeTitle">Welcome, Engineer</h2>
          <p id="welcomeSub">Track your projects, run simulations, and review results — all in one place.</p>
        </div>
      </section>

     <!-- KPIs -->
<section class="kpis">
  <!-- My Projects -->
  <div class="kpi" role="status" aria-live="polite">
    <span class="kpi-ico">
      <svg aria-hidden="true"><use href="#i-projects"></use></svg>
    </span>
    <div class="kpi-meta">
      <div class="kpi-num" id="metric-projects">0</div>
      <div class="kpi-label">My Projects</div>
    </div>
  </div>

  <!-- In Progress -->
  <div class="kpi" role="status" aria-live="polite">
    <span class="kpi-ico">
      <svg aria-hidden="true"><use href="#i-progress"></use></svg>
    </span>
    <div class="kpi-meta">
      <div class="kpi-num" id="metric-active">0</div>
      <div class="kpi-label">In Progress</div>
    </div>
  </div>

  <!-- Completed -->
  <div class="kpi" role="status" aria-live="polite">
    <span class="kpi-ico">
      <svg aria-hidden="true"><use href="#i-completed"></use></svg>
    </span>
    <div class="kpi-meta">
      <div class="kpi-num" id="metric-completed-short">0</div>
      <div class="kpi-label">Completed</div>
    </div>
  </div>
</section>


      <section class="grid-2">
        <!-- Recent Projects -->
        <section class="card">
          <div class="card-head">
            <h2>Recent Projects</h2>
          </div>
          <div class="table-wrap">
            <table class="table" id="projectsTable" aria-live="polite">
              <thead>
                <tr>
                  <th>Project Title</th>
                  <th>Protocol</th>
                  <th>Created</th>
                  <th>Status</th>
                  <th class="tright">Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- rows injected by JS -->
              </tbody>
            </table>
            <div id="noProjects" class="empty">No projects found.</div>
          </div>
        </section>

        <!-- Assignments -->
        <section class="card">
          <div class="card-head">
            <h2>New Assignments</h2>
          </div>
          <ul class="list" id="assignList">
            <!-- li items injected -->
          </ul>
          <div id="noAssign" class="empty">No new assignments.</div>
        </section>
      </section>

      <section class="grid-2">
        <!-- Recent Activity -->
        <section class="card">
          <div class="card-head">
            <h2>Recent Activity</h2>
          </div>
        <ul class="timeline" id="activityList"></ul>
        <div id="noActivity" class="empty">No recent activity.</div>
        </section>

        <!-- Quick Actions (non-duplicating) -->
        <section class="card">
          <div class="card-head">
            <h2>Quick Actions</h2>
          </div>
          <div class="qa">
            <button class="btn wide" id="btnRunLatest">Run Latest Project</button>
            <button class="btn wide" id="btnCompare">Compare Two Runs</button>
            <button class="btn wide" id="btnSavedParams">Saved Parameters</button>
            <button class="btn wide" id="btnExport">Export My Data</button>
          </div>
        </section>
      </section>
    </main>
  </div>
  
  <script src="/js/user-dashboard.js"></script>
  <!-- Inline SVG sprite (the icons inherit currentColor) -->
<svg xmlns="http://www.w3.org/2000/svg" style="display:none">
  <!-- Projects (folder) -->
  <symbol id="i-projects" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M3 7a2 2 0 0 1 2-2h4l2 2h8a2 2 0 0 1 2 2v7a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3z"/>
  </symbol>

  <!-- In Progress (clock) -->
  <symbol id="i-progress" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="9"/>
    <path d="M12 7v6l4 2"/>
  </symbol>

  <!-- Completed (check-circle) -->
  <symbol id="i-completed" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="9"/>
    <path d="M9 12l2.2 2.2L15 10"/>
  </symbol>

  <!-- Rename icon -->
  <symbol id="i-pen" viewBox="0 0 24 24" fill="none" stroke="currentColor"
        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
  <path d="M12 20h9"/>
  <path d="M16.5 3.5a2.1 2.1 0 0 1 3 3L7 19l-4 1 1-4 12.5-12.5z"/>
</symbol>

</svg>

<!-- Inline SVG sprite (sidebar icons) -->
<svg xmlns="http://www.w3.org/2000/svg" style="display:none">
  <!-- Home -->
  <symbol id="i-home" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M3 11.5l9-7 9 7"/>
    <path d="M5 10.5V20a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-9.5"/>
    <path d="M9 21v-6h6v6"/>
  </symbol>

  <!-- Projects (beaker/tool) -->
  <symbol id="i-projects" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M6 3h6"/>
    <path d="M9 3v6l-3.5 6.5A3 3 0 0 0 8 21h8a3 3 0 0 0 2.6-4.5L15 9V3"/>
    <path d="M7 15h10"/>
  </symbol>

  <!-- Plus (new project) -->
  <symbol id="i-plus" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <path d="M12 5v14M5 12h14"/>
  </symbol>

  <!-- Clock (history) -->
  <symbol id="i-clock" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="9"/>
    <path d="M12 7v5l3 2"/>
  </symbol>

  <!-- Help (question-circle) -->
  <symbol id="i-help" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <circle cx="12" cy="12" r="9"/>
    <path d="M9.5 9.5a2.5 2.5 0 1 1 3.9 2c-.9.6-1.4 1.1-1.4 2.5"/>
    <path d="M12 17h.01"/>
  </symbol>
</svg>
<!-- Extra icons -->
<svg xmlns="http://www.w3.org/2000/svg" style="display:none">
  <!-- kebab (vertical dots) -->
  <symbol id="i-kebab" viewBox="0 0 24 24" fill="currentColor">
    <circle cx="12" cy="5" r="2"/>
    <circle cx="12" cy="12" r="2"/>
    <circle cx="12" cy="19" r="2"/>
  </symbol>
</svg>


</body>
</html>
